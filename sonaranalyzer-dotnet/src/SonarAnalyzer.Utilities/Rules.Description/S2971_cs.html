<p>为了保证可读性，代码应尽可能的简单。为了达到这个目的，有几种可以简化 <code>IEnumerable</code> 语言集成查询（language integrated queries，即LINQ）的方法：</p>
<ul>
  <li> 使用 <code>OfType</code>，而不要使用带 <code>as</code> 的 <code>Select</code> 来键入强制转换元素，并在查询表达式中进行null值检查来基于类型选择元素。</li>
  <li> 使用 <code>OfType</code>，而不要使用 <code>Where</code> 与 <code>is</code> 运算符并在 <code>Select</code> 中进行强制类型转换。</li>
  <li> 使用 <code>Any</code> 中的表达式而不是 <code>Where(element =&gt; [expression]).Any()</code>。 </li>
  <li> 使用 <code>Count</code> 而不是在可行的时候 <code>Count()</code>。 </li>
  <li> 在查询链的中间不要调用 <code>ToArray()</code> 和 <code>ToList()</code>。 </li>
</ul>
<h2>不合规的代码示例</h2>
<pre>
seq1.Select(element =&gt; element as T).Any(element =&gt; element != null);  // 不合规；应使用OfType
seq2.Select(element =&gt; element as T).Any(element =&gt; element != null &amp;&amp; CheckCondition(element));  // 不合规；应使用OfType
seq3.Where(element =&gt; element is T).Select(element =&gt; element as T); // 不合规；应使用OfType
seq4.Where(element =&gt; element is T).Select(element =&gt; (T)element); // 不合规；应使用OfType
seq5.Where(element =&gt; [expression]).Any();  // 不合规；应使用Any([expression])

var num = seq6.Count(); // 不合规
var arr = seq.ToList().ToArray(); //不合规
var count = seq.ToList().Count(x=&gt;[condition]); //不合规
</pre>
<h2>合规的解决方案</h2>
<pre>
seq1.OfType&lt;T&gt;().Any();
seq2.OfType&lt;T&gt;().Any(element =&gt; CheckCondition(element));
seq3.OfType&lt;T&gt;();
seq4.OfType&lt;T&gt;();
seq5.Any(element =&gt; [expression])

var num = seq6.Count;
var arr = seq.ToArray();
var count = seq.Count(x=&gt;[condition]);
</pre>

