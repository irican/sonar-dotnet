<p>当创建<code>DataTable</code> 或 <code>DataSet</code>时，应该显式地设置语言环境。默认情况下，这些类型的区域设置是当前区域性。对于存储在数据库或文件中并全局共享的数据，区域设置通常应该设置为不变区域性(<code>CultureInfo.InvariantCulture</code>)。</p>
<p>当<code>System.Data.DataTable</code>或<code>System.Data.DataSet</code> 实例创建时没有显式设置locale属性(<code>DataTable.Locale</code> 或 <code>DataSet.Locale</code>)，此规则会引发一个问题。</p>
<h2>不合规的代码示例</h2>
<pre>
using System;
using System.Data;

namespace MyLibrary
{
    public class Foo
    {
        public DataTable CreateTable()
        {
            DataTable table = new DataTable("Customers"); // 不合规，没有设置table.Locale
            DataColumn key = table.Columns.Add("ID", typeof(Int32));

            key.AllowDBNull = false;
            key.Unique = true;
            table.Columns.Add("LastName", typeof(String));
            table.Columns.Add("FirstName", typeof(String));
            return table;
        }
    }
}
</pre>
<h2>合规的解决方案</h2>
<pre>
using System;
using System.Data;
using System.Globalization;

namespace MyLibrary
{
    public class Foo
    {
        public DataTable CreateTable()
        {
            DataTable table = new DataTable("Customers");
            table.Locale = CultureInfo.InvariantCulture;
            DataColumn key = table.Columns.Add("ID", typeof(Int32));

            key.AllowDBNull = false;
            key.Unique = true;
            table.Columns.Add("LastName", typeof(String));
            table.Columns.Add("FirstName", typeof(String));
            return table;
        }
    }
}
</pre>

