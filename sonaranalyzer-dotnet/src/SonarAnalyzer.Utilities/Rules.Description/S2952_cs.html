<p> <code>IDisposable</code> 里可以从任何方法中对类的成员调用 <code>Dispose</code> ，但 <code>Dispose</code> 的使用约定是它会清理所有的非托管资源。若将类成员的清理（disposing）移到其他的方法，则可能会将资源泄露。</p>
<h2>不合规的代码示例</h2>
<pre>
public class ResourceHolder : IDisposable
{
  private FileStream fs;
  public void OpenResource(string path)
  {
    this.fs = new FileStream(path, FileMode.Open);
  }
  public void CloseResource()
  {
    this.fs.Close();
  }

  public void CleanUp()
  {
    this.fs.Dispose(); // 不合规；没有在该类的Dispose方法里调用Dispose 
  }

  public void Dispose()
  {
    // 此处添加满足接口要求的方法
  }
}
</pre>
<h2>合规的解决方案</h2>
<pre>
public class ResourceHolder : IDisposable
{
  private FileStream fs;
  public void OpenResource(string path)
  {
    this.fs = new FileStream(path, FileMode.Open);
  }
  public void CloseResource()
  {
    this.fs.Close();
  }

  public void Dispose()
  {
    this.fs.Dispose();
  }
}
</pre>
<h2>请参阅</h2>
<ul>
  <li> <a href="http://cwe.mitre.org/data/definitions/459.html">MITRE, CWE-459</a> - Incomplete Cleanup </li>
</ul>

