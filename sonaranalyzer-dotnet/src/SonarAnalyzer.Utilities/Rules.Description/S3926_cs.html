<p>用 <code>System.Runtime.Serialization.OptionalFieldAttribute</code> 标记的字段的序列化与其他任何字段一样，但这样的字段在反序列化时会被忽略，并且会保留与他们类型相关的默认值。因此，反序列化事件处理器在声明时应考虑在反序列化过程中设置这些字段。</p>
<p>如果声明了至少一个带有 <code>System.Runtime.Serialization.OptionalFieldAttribute</code> 特性的字段，但其后没有出现事件处理器 <code>System.Runtime.Serialization.OnDeserializingAttribute</code> 与 <code>System.Runtime.Serialization.OnDeserializedAttribute</code> 中的一个（或两个）的话，此规则会被引发。</p>
<h2>不合规的代码示例</h2>
<pre>
[Serializable]
public class Foo
{
    [OptionalField(VersionAdded = 2)]
    int optionalField = 5;
}
</pre>
<h2>合规的解决方案</h2>
<pre>
[Serializable]
public class Foo
{
    [OptionalField(VersionAdded = 2)]
    int optionalField = 5;

    [OnDeserializing]
    void OnDeserializing(StreamingContext context)
    {
	    optionalField = 5;
    }

    [OnDeserialized]
    void OnDeserialized(StreamingContext context)
    {
        // 如果依赖其他的反序列化值，则设置optionalField。
    }
}
</pre>

