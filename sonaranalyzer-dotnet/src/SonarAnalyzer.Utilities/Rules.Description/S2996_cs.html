<p>当一个对象有一个带有 <code>ThreadStatic</code> 注释的字段时，该字段能在给定的线程里共享，但在线程间它是唯一的。由于类的静态初始化操作只在第一个创建的线程里进行，因此这也意味着只有第一个线程会拥有该字段预期的初始值。</p>
<p>相反地，允许将这样的字段初始化为它们的默认值，或者使初始化变慢（lazy）。</p>
<h2>不合规的代码示例</h2>
<pre>
public class Foo
{
  [ThreadStatic]
  public static object PerThreadObject = new object(); // 不合规。第一个进程外的其他进程里该字段都会为null
}
</pre>
<h2>合规的解决方案</h2>
<pre>
public class Foo
{
  [ThreadStatic]
  public static object _perThreadObject;
  public static object PerThreadObject
  {
    get
    {
      if (_perThreadObject == null)
      {
        _perThreadObject = new object();
      }
      return _perThreadObject;
    }
  }
}
</pre>

