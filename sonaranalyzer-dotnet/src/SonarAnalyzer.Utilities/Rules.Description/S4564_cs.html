<p>ASP.Net 有一个特性来验证HTTP请求，以防止执行跨站点脚本(XSS)攻击时潜在的危险内容。即使有其他防止XXS攻击的检查，也没有理由禁用此机制。</p>
<p>如果带有参数的方法被标记为 <code>System.Web.Mvc.HttpPostAttribute</code> 而不是 <code>System.Web.Mvc.ValidateInputAttribute(true)</code>时，则该规则会引发一个问题。</p>
<h2>不合规的代码示例</h2>
<pre>
public class FooBarController : Controller
{
    [HttpPost] // 不合规
    [ValidateInput(false)]
    public ActionResult Purchase(string input)
    {
        return Foo(input);
    }

    [HttpPost] // 不合规
    public ActionResult PurchaseSomethingElse(string input)
    {
        return Foo(input);
    }
}
</pre>
<h2>合规的解决方案</h2>
<pre>
public class FooBarController : Controller
{
    [HttpPost]
    [ValidateInput(true)] // 合规的
    public ActionResult Purchase(string input)
    {
        return Foo(input);
    }
}
</pre>
<h2>例外</h2>
<p>使用 <code>System.Web.Mvc.HttpPostAttribute</code> 标记的无参数方法不会触发这个问题。</p>
<h2>请参阅</h2>
<ul>
  <li> <a href="http://cwe.mitre.org/data/definitions/79">MITRE, CWE-79</a> - Improper Neutralization of Input During Web Page Generation ('Cross-site
  Scripting') </li>
  <li> <a href="https://www.owasp.org/index.php/Top_10-2017_A7-Cross-Site_Scripting_(XSS)">OWASP Top 10 2017 Category A7</a> - Cross-Site Scripting (XSS) </li>
  <li> <a href="https://www.sans.org/top25-software-errors/#cat1">SANS Top 25</a> - Insecure Interaction Between Components </li>
  <li> <a href="https://www.owasp.org/index.php/ASP.NET_Request_Validation">OWASP ASP.NET Request Validation</a> </li>
</ul>

