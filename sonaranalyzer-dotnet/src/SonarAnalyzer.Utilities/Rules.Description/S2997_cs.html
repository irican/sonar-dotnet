<p>通常你会希望使用 <code>using</code> 来创建本地的 <code>IDisposable</code> 变量；在程序的控制脱离块的作用域时，它就会触发对对象的清理。此规则的例外情况是，如果你的方法返回那个 <code>IDisposable</code>，则在这种情况下，<code>using</code> 会在调用者使用该对象之前就将其释放，这样很可能会在运行时导致异常。因此，你应该移除 <code>using</code> 或避免返回 <code>IDisposable</code>。</p>
<h2>不合规的代码示例</h2>
<pre>
public FileStream WriteToFile(string path, string text)
{
  using (var fs = File.Create(path)) // 不合规
  {
    var bytes = Encoding.UTF8.GetBytes(text);
    fs.Write(bytes, 0, bytes.Length);
    return fs;
  }
}
</pre>
<h2>合规的解决方案</h2>
<pre>
public FileStream WriteToFile(string path, string text)
{
  var fs = File.Create(path);
  var bytes = Encoding.UTF8.GetBytes(text);
  fs.Write(bytes, 0, bytes.Length);
  return fs;
}
</pre>

