<p>当某个非 <code>static</code> 类的字段注释有 <code>ThreadStatic</code> 时，它看起来是想表明该字段对于不同的调用进程可以有不同的值，但事实并非如此，因为 <code>ThreadStatic</code> 特性在非 <code>static</code> 字段上是被忽略的。 </p>
<p>因此应删除 <code>ThreadStatic</code> 或换用 <code>ThreadLocal&lt;T&gt;</code> 类，这样就能为非 <code>static</code> 的字段提供相同的行为。</p>
<h2>不合规的代码示例</h2>
<pre>
public class MyClass
{
  [ThreadStatic]  // 不合规
  private int count = 0;

  // ...
}
</pre>
<h2>合规的解决方案</h2>
<pre>
public class MyClass
{
  private int count = 0;

  // ……
}
</pre>
<p>或者</p>
<pre>
public class MyClass
{
  private readonly ThreadLocal&lt;int&gt; count = new ThreadLocal&lt;int&gt;();
  public int Count
  {
    get { return count.Value; }
    set { count.Value = value; }
  }
  // ……
}
</pre>

