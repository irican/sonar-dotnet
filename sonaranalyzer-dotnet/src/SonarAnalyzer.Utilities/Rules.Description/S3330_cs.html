<p> <code>HttpOnly</code>cookie属性会告诉浏览器防止客户端脚本读取带有该属性的cookies，它的应用对防御跨站脚本（XSS）攻击大有帮助。因此，作为一项预防措施，应在所有服务器端的cookie上默认地设置该属性，例如会话ID的cookie。</p>
<p>在具体实现对跨站请求伪造（XSRF）的防御时，应在第一个HTTP GET的请求上创建一个JavaScript可读（JavaScript-readable）的会话cookie，它通常叫做XSRF-TOKEN。对这样的cookie，<code>HttpOnly</code> 属性应设为“false”。</p>
<p>设置该属性可以编程，也可以通过配置文件全局设置。</p>
<h2>不合规的代码示例</h2>
<pre>
HttpCookie myCookie = new HttpCookie("UserSettings");
myCookie.HttpOnly = false; // 不合规，显式地设为false
...
Response.Cookies.Add(myCookie);
</pre>
<pre>
HttpCookie myCookie = new HttpCookie("UserSettings"); // 不合规，使用了‘HttpOnly’的默认值（即false）
...
Response.Cookies.Add(myCookie);
</pre>
<h2>合规的解决方案</h2>
<pre>
HttpCookie myCookie = new HttpCookie("UserSettings");
myCookie.HttpOnly = true; // 合规
...
Response.Cookies.Add(myCookie);
</pre>
<h2>请参阅</h2>
<ul>
  <li> <a href="http://cwe.mitre.org/data/definitions/79.html">CWE-79</a> - Improper Neutralization of Input During Web Page Generation ('Cross-site
  Scripting') </li>
  <li> <a href="https://cwe.mitre.org/data/definitions/1004.html">CWE-1004</a> - Sensitive Cookie Without 'HttpOnly' Flag </li>
  <li> OWASP Top 10 2017 Category A7 - Cross-Site Scripting (XSS) </li>
  <li> <a href="https://www.owasp.org/index.php/HttpOnly">OWASP HttpOnly</a> </li>
  <li> <a href="https://www.sans.org/top25-software-errors/#cat1">SANS Top 25</a> - Insecure Interaction Between Components </li>
  <li> Derived from FindSecBugs rule <a href="https://find-sec-bugs.github.io/bugs.htm#HTTPONLY_COOKIE">HTTPONLY_COOKIE</a> </li>
</ul>

