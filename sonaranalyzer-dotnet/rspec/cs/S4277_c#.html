<p>使用 <code>PartCreationPolicy(CreationPolicy.Shared)</code>（这是托管扩展框架(MEF)的一部分）标记一个类，这意味着将创建导出对象的一个共享实例。因此，使用构造函数创建新实例没有意义，而且很可能会导致意外行为。</p>
<p>当调用与<code>PartCreationPolicyAttribute</code>共享的类的构造函数时，该规则会引发一个问题。</p>
<h2>不合规的代码示例</h2>
<pre>
[Export(typeof(IFooBar))]
[PartCreationPolicy(CreationPolicy.Shared)]
public class FooBar : IFooBar
{
}

public class Program
{
    public static void Main()
    {
        var fooBar = new FooBar(); // 不合规
    }
}
</pre>
<h2>合规的解决方案</h2>
<pre>
[Export(typeof(IFooBar))]
[PartCreationPolicy(CreationPolicy.Shared)]
public class FooBar : IFooBar
{
}

public class Program
{
    public static void Main()
    {
        var fooBar = serviceProvider.GetService&lt;IFooBar&gt;();
    }
}
</pre>

